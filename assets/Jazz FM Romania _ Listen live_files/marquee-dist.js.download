!function(C){C.fn.marquee=function(j){return this.each(function(){var a,r,n=C.extend({},C.fn.marquee.defaults,j),i=C(this),s=3,e="animation-play-state",o=!1,u=function(e,t,a){for(var r=["webkit","moz","MS","o",""],n=0;n<r.length;n++)r[n]||(t=t.toLowerCase()),e.addEventListener(r[n]+t,a,!1)},t={pause:function(){o&&n.allowCss3Support?a.css(e,"paused"):C.fn.pause&&a.pause(),i.data("runningStatus","paused"),i.trigger("paused")},resume:function(){o&&n.allowCss3Support?a.css(e,"running"):C.fn.resume&&a.resume(),i.data("runningStatus","resumed"),i.trigger("resumed")},toggle:function(){t["resumed"==i.data("runningStatus")?"pause":"resume"]()},destroy:function(){clearTimeout(i.timer),i.find("*").addBack().unbind(),i.html(i.find(".js-marquee:first").html())}};if("string"==typeof j)C.isFunction(t[j])&&(a||(a=i.find(".js-marquee-wrapper")),!0===i.data("css3AnimationIsSupported")&&(o=!0),t[j]());else{var d;C.each(n,function(e,t){if(void 0!==(d=i.attr("data-"+e))){switch(d){case"true":d=!0;break;case"false":d=!1}n[e]=d}}),n.speed&&(n.duration=parseInt(i.width(),10)/n.speed*1e3);var p="up"==n.direction||"down"==n.direction;n.gap=n.duplicated?parseInt(n.gap):0,i.wrapInner('<div class="js-marquee"></div>');var l=i.find(".js-marquee").css({"margin-right":n.gap,float:"left"});if(n.duplicated&&l.clone(!0).appendTo(i),i.wrapInner('<div style="width:100000px" class="js-marquee-wrapper"></div>'),a=i.find(".js-marquee-wrapper"),p){var f=i.height();a.removeAttr("style"),i.height(f),i.find(".js-marquee").css({float:"none","margin-bottom":n.gap,"margin-right":0}),n.duplicated&&i.find(".js-marquee:last").css({"margin-bottom":0});var c=i.find(".js-marquee:first").height()+n.gap;n.startVisible&&!n.duplicated?(n._completeDuration=(parseInt(c,10)+parseInt(f,10))/parseInt(f,10)*n.duration,n.duration*=parseInt(c,10)/parseInt(f,10)):n.duration*=(parseInt(c,10)+parseInt(f,10))/parseInt(f,10)}else{var m=i.find(".js-marquee:first").width()+n.gap,g=i.width();n.startVisible&&!n.duplicated?(n._completeDuration=(parseInt(m,10)+parseInt(g,10))/parseInt(g,10)*n.duration,n.duration*=parseInt(m,10)/parseInt(g,10)):n.duration*=(parseInt(m,10)+parseInt(g,10))/parseInt(g,10)}if(n.duplicated&&(n.duration/=2),n.allowCss3Support){l=document.body||document.createElement("div");var h="marqueeAnimation-"+Math.floor(1e7*Math.random()),v=["Webkit","Moz","O","ms","Khtml"],y="animation",I="",b="";if(l.style.animation&&(b="@keyframes "+h+" ",o=!0),!1===o)for(var x=0;x<v.length;x++)if(void 0!==l.style[v[x]+"AnimationName"]){l="-"+v[x].toLowerCase()+"-",y=l+y,e=l+e,b="@"+l+"keyframes "+h+" ",o=!0;break}o&&(I=h+" "+n.duration/1e3+"s "+n.delayBeforeStart/1e3+"s infinite "+n.css3easing,i.data("css3AnimationIsSupported",!0))}var w=function(){a.css("transform","translateY("+("up"==n.direction?f+"px":"-"+c+"px")+")")},S=function(){a.css("transform","translateX("+("left"==n.direction?g+"px":"-"+m+"px")+")")};n.duplicated?(p?n.startVisible?a.css("transform","translateY(0)"):a.css("transform","translateY("+("up"==n.direction?f+"px":"-"+(2*c-n.gap)+"px")+")"):n.startVisible?a.css("transform","translateX(0)"):a.css("transform","translateX("+("left"==n.direction?g+"px":"-"+(2*m-n.gap)+"px")+")"),n.startVisible||(s=1)):n.startVisible?s=2:p?w():S();var q=function(){if(n.duplicated&&(1===s?(n._originalDuration=n.duration,n.duration=p?"up"==n.direction?n.duration+f/(c/n.duration):2*n.duration:"left"==n.direction?n.duration+g/(m/n.duration):2*n.duration,I&&(I=h+" "+n.duration/1e3+"s "+n.delayBeforeStart/1e3+"s "+n.css3easing),s++):2===s&&(n.duration=n._originalDuration,I&&(h+="0",b=C.trim(b)+"0 ",I=h+" "+n.duration/1e3+"s 0s infinite "+n.css3easing),s++)),p?n.duplicated?(2<s&&a.css("transform","translateY("+("up"==n.direction?0:"-"+c+"px")+")"),r={transform:"translateY("+("up"==n.direction?"-"+c+"px":0)+")"}):n.startVisible?2===s?(I&&(I=h+" "+n.duration/1e3+"s "+n.delayBeforeStart/1e3+"s "+n.css3easing),r={transform:"translateY("+("up"==n.direction?"-"+c+"px":f+"px")+")"},s++):3===s&&(n.duration=n._completeDuration,I&&(h+="0",b=C.trim(b)+"0 ",I=h+" "+n.duration/1e3+"s 0s infinite "+n.css3easing),w()):(w(),r={transform:"translateY("+("up"==n.direction?"-"+a.height()+"px":f+"px")+")"}):n.duplicated?(2<s&&a.css("transform","translateX("+("left"==n.direction?0:"-"+m+"px")+")"),r={transform:"translateX("+("left"==n.direction?"-"+m+"px":0)+")"}):n.startVisible?2===s?(I&&(I=h+" "+n.duration/1e3+"s "+n.delayBeforeStart/1e3+"s "+n.css3easing),r={transform:"translateX("+("left"==n.direction?"-"+m+"px":g+"px")+")"},s++):3===s&&(n.duration=n._completeDuration,I&&(h+="0",b=C.trim(b)+"0 ",I=h+" "+n.duration/1e3+"s 0s infinite "+n.css3easing),S()):(S(),r={transform:"translateX("+("left"==n.direction?"-"+m+"px":g+"px")+")"}),i.trigger("beforeStarting"),o){a.css(y,I);var e=b+" { 100%  "+function(e){var t,a=[];for(t in e)e.hasOwnProperty(t)&&a.push(t+":"+e[t]);return a.push(),"{"+a.join(",")+"}"}(r)+"}",t=a.find("style");0!==t.length?t.filter(":last").html(e):C("head").append("<style>"+e+"</style>"),u(a[0],"AnimationIteration",function(){i.trigger("finished")}),u(a[0],"AnimationEnd",function(){q(),i.trigger("finished")})}else a.animate(r,n.duration,n.easing,function(){i.trigger("finished"),n.pauseOnCycle?i.timer=setTimeout(q,n.delayBeforeStart):q()});i.data("runningStatus","resumed")};i.bind("pause",t.pause),i.bind("resume",t.resume),n.pauseOnHover&&(i.bind("mouseenter",t.pause),i.bind("mouseleave",t.resume)),o&&n.allowCss3Support?q():i.timer=setTimeout(q,n.delayBeforeStart)}})},C.fn.marquee.defaults={allowCss3Support:!0,css3easing:"linear",easing:"linear",delayBeforeStart:1e3,direction:"left",duplicated:!1,duration:5e3,gap:20,pauseOnCycle:!1,pauseOnHover:!1,startVisible:!1}}(jQuery);