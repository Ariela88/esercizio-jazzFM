!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(d){var e=Array.prototype.slice,s=Array.prototype.splice,c={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1,zIndex:"inherit"},h=d(window),u=d(document),f=[],g=h.height(),t=function(){for(var t=h.scrollTop(),e=u.height(),i=e-g,s=i<t?i-t:0,n=0,o=f.length;n<o;n++){var r=f[n],c=r.stickyWrapper.offset().top-r.topSpacing-s;if(r.stickyWrapper.css("height",r.stickyElement.outerHeight()),t<=c)null!==r.currentTop&&(r.stickyElement.css({width:"",position:"",top:"","z-index":""}),r.stickyElement.parent().removeClass(r.className),r.stickyElement.trigger("sticky-end",[r]),r.currentTop=null);else{var a,p=e-r.stickyElement.outerHeight()-r.topSpacing-r.bottomSpacing-t-s;if(p<0?p+=r.topSpacing:p=r.topSpacing,r.currentTop!==p)r.getWidthFrom?(padding=r.stickyElement.innerWidth()-r.stickyElement.width(),a=d(r.getWidthFrom).width()-padding||null):r.widthFromWrapper&&(a=r.stickyWrapper.width()),null==a&&(a=r.stickyElement.width()),r.stickyElement.css("width",a).css("position","fixed").css("top",p).css("z-index",r.zIndex),r.stickyElement.parent().addClass(r.className),null===r.currentTop?r.stickyElement.trigger("sticky-start",[r]):r.stickyElement.trigger("sticky-update",[r]),r.currentTop===r.topSpacing&&r.currentTop>p||null===r.currentTop&&p<r.topSpacing?r.stickyElement.trigger("sticky-bottom-reached",[r]):null!==r.currentTop&&p===r.topSpacing&&r.currentTop<p&&r.stickyElement.trigger("sticky-bottom-unreached",[r]),r.currentTop=p;var l=r.stickyWrapper.parent();r.stickyElement.offset().top+r.stickyElement.outerHeight()>=l.offset().top+l.outerHeight()&&r.stickyElement.offset().top<=r.topSpacing?r.stickyElement.css("position","absolute").css("top","").css("bottom",0).css("z-index",""):r.stickyElement.css("position","fixed").css("top",p).css("bottom","").css("z-index",r.zIndex)}}},i=function(){g=h.height();for(var t=0,e=f.length;t<e;t++){var i=f[t],s=null;i.getWidthFrom?i.responsiveWidth&&(s=d(i.getWidthFrom).width()):i.widthFromWrapper&&(s=i.stickyWrapper.width()),null!=s&&i.stickyElement.css("width",s)}},a={init:function(r){return this.each(function(){var t=d.extend({},c,r),e=d(this),i=e.attr("id"),s=i?i+"-"+c.wrapperClassName:c.wrapperClassName,n=d("<div></div>").attr("id",s).addClass(t.wrapperClassName);e.wrapAll(function(){if(0==d(this).parent("#"+s).length)return n});var o=e.parent();t.center&&o.css({width:e.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"===e.css("float")&&e.css({float:"none"}).parent().css({float:"right"}),t.stickyElement=e,t.stickyWrapper=o,t.currentTop=null,f.push(t),a.setWrapperHeight(this),a.setupChangeListeners(this)})},setWrapperHeight:function(t){var e=d(t),i=e.parent();i&&i.css("height",e.outerHeight())},setupChangeListeners:function(e){window.MutationObserver?new window.MutationObserver(function(t){(t[0].addedNodes.length||t[0].removedNodes.length)&&a.setWrapperHeight(e)}).observe(e,{subtree:!0,childList:!0}):window.addEventListener?(e.addEventListener("DOMNodeInserted",function(){a.setWrapperHeight(e)},!1),e.addEventListener("DOMNodeRemoved",function(){a.setWrapperHeight(e)},!1)):window.attachEvent&&(e.attachEvent("onDOMNodeInserted",function(){a.setWrapperHeight(e)}),e.attachEvent("onDOMNodeRemoved",function(){a.setWrapperHeight(e)}))},update:t,unstick:function(t){return this.each(function(){for(var t=d(this),e=-1,i=f.length;0<i--;)f[i].stickyElement.get(0)===this&&(s.call(f,i,1),e=i);-1!==e&&(t.unwrap(),t.css({width:"",position:"",top:"",float:"","z-index":""}))})}};window.addEventListener?(window.addEventListener("scroll",t,!1),window.addEventListener("resize",i,!1)):window.attachEvent&&(window.attachEvent("onscroll",t),window.attachEvent("onresize",i)),d.fn.sticky=function(t){return a[t]?a[t].apply(this,e.call(arguments,1)):"object"!=typeof t&&t?void d.error("Method "+t+" does not exist on jQuery.sticky"):a.init.apply(this,arguments)},d.fn.unstick=function(t){return a[t]?a[t].apply(this,e.call(arguments,1)):"object"!=typeof t&&t?void d.error("Method "+t+" does not exist on jQuery.sticky"):a.unstick.apply(this,arguments)},d(function(){setTimeout(t,0)})}),function(){var H,N;H=this.jQuery||window.jQuery,N=H(window),H.fn.stick_in_parent=function(t){var E,b,e,i,W,s,x,_,T,z,C;for(null==t&&(t={}),C=t.sticky_class,W=t.inner_scrolling,z=t.recalc_every,T=t.parent,_=t.offset_top,x=t.spacer,b=t.bottoming,null==_&&(_=0),null==T&&(T=void 0),null==W&&(W=!0),null==C&&(C="is_stuck"),E=H(document),null==b&&(b=!0),e=function(n,o,r,c,a,p,l,d){var h,t,u,f,g,m,y,k,e,w,v,s;if(!n.data("sticky_kit")){if(n.data("sticky_kit",!0),g=E.height(),y=n.parent(),null!=T&&(y=y.closest(T)),!y.length)throw"failed to find stick parent";if(h=u=!1,(v=null!=x?x&&n.closest(x):H("<div />"))&&v.css("position",n.css("position")),(k=function(){var t,e,i;if(!d&&(g=E.height(),t=parseInt(y.css("border-top-width"),10),e=parseInt(y.css("padding-top"),10),o=parseInt(y.css("padding-bottom"),10),r=y.offset().top+t+e,c=y.height(),u&&(h=u=!1,null==x&&(n.insertAfter(v),v.detach()),n.css({position:"",top:"",width:"",bottom:""}).removeClass(C),i=!0),a=n.offset().top-(parseInt(n.css("margin-top"),10)||0)-_,p=n.outerHeight(!0),l=n.css("float"),v&&v.css({width:n.outerWidth(!0),height:p,display:n.css("display"),"vertical-align":n.css("vertical-align"),float:l}),i))return s()})(),p!==c)return f=void 0,m=_,w=z,s=function(){var t,e,i,s;if(!d&&(i=!1,null!=w&&(--w<=0&&(w=z,k(),i=!0)),i||E.height()===g||k(),i=N.scrollTop(),null!=f&&(e=i-f),f=i,u?(b&&(s=c+r<i+p+m,h&&!s&&(h=!1,n.css({position:"fixed",bottom:"",top:0}).trigger("sticky_kit:unbottom"))),i<a&&(u=!1,m=_,null==x&&("left"!==l&&"right"!==l||n.insertAfter(v),v.detach()),t={position:"",width:"",top:""},n.css(t).removeClass(C).trigger("sticky_kit:unstick")),W&&((t=N.height())<p+_&&!h&&(m-=e,m=Math.max(t-p,m),m=Math.min(_,m),u&&n.css({top:m+"px"})))):a<i&&(u=!0,(t={position:"fixed",top:0}).width="border-box"===n.css("box-sizing")?n.outerWidth()+"px":n.width()+"px",n.css(t).addClass(C),null==x&&(n.after(v),"left"!==l&&"right"!==l||v.append(n)),n.trigger("sticky_kit:stick")),u&&b&&(null==s&&(s=c+r<i+p+m),!h&&s)))return h=!0,"static"===y.css("position")&&y.css({position:"relative"}),n.css({position:"absolute",bottom:o,top:"auto"}).trigger("sticky_kit:bottom")},e=function(){return k(),s()},t=function(){if(d=!0,N.off("touchmove",s),N.off("scroll",s),N.off("resize",e),H(document.body).off("sticky_kit:recalc",e),n.off("sticky_kit:detach",t),n.removeData("sticky_kit"),n.css({position:"",bottom:"",top:"",width:""}),y.position("position",""),u)return null==x&&("left"!==l&&"right"!==l||n.insertAfter(v),v.remove()),n.removeClass(C)},N.on("touchmove",s),N.on("scroll",s),N.on("resize",e),H(document.body).on("sticky_kit:recalc",e),n.on("sticky_kit:detach",t),setTimeout(s,0)}},i=0,s=this.length;i<s;i++)t=this[i],e(H(t));return this}}.call(this);